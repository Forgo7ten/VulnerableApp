# WebView js2native漏洞

## 漏洞简介

webview正常的应用逻辑，在webview中通过js来调用java方法。但当**加载了不可信的js**，会导致js可以利用敏感函数，做危险操作。

### 漏洞详情

漏洞出现位置：

1.  JavascriptInterface

    ```java
    webview.getSettings().setJavaScriptEnabled(true);
    webview.addJavascriptInterface(new MyInterface(),"jsInterface");
    ```

2.  webview侧通过跳转特殊的url，以下三个方法校验不完善

    ```java
    WebViewClient.shouldOverrideUrlLoading(WebView view, String url)、
    WebViewClient.shouldOverrideUrlLoading(WebView view, WebResourceRequest request)
    WebViewClient.onLoadResource(WebView view, String url)
    ```

### 漏洞危害

如果URI校验不完善，或者未校验。会导致不可控的外部Js使用java侧提供的各种接口，如获取token等等



### 漏洞复现

>   复现环境：Pixel_XL_API_27

参考AttackApp应用

